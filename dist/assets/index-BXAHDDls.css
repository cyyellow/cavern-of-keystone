@font-face{font-family:Pixelade;src:url(/cavern-of-keystone/assets/pixelade.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:DungeonFont;src:url(/cavern-of-keystone/assets/DungeonFont.ttf) format("truetype");font-weight:400;font-style:normal}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Pixelade,Courier New,monospace;background-color:#0c1121;color:#fff;overflow:hidden}#root{width:100vw;height:100vh}.game-container{width:100vw;height:100vh;position:relative;overflow:hidden}.screen{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;top:0;left:0}.start-screen{background:linear-gradient(135deg,#0c1121,#1a1f3a)}.game-screen{background-image:url(/cavern-of-keystone/assets/images/cavern.png);background-size:100vw 100vh;background-repeat:repeat;display:block;z-index:10;background-position:50% -200px;position:relative;overflow:hidden}.game-area{position:absolute;top:0;left:0;width:100vw;height:100vh;background:transparent;z-index:1}.game-over-screen{background:linear-gradient(135deg,#2d1b1b,#0c1121);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px 20px;margin:0 auto;min-height:100vh}.win-screen{background:linear-gradient(135deg,#1b2d1b,#0c2110);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px 20px;margin:0 auto;min-height:100vh}.win-title{font-family:DungeonFont,Pixelade,Courier New,monospace;font-size:4rem;font-family:DungeonFont;margin-top:1rem;text-align:center;color:#90ee90;text-shadow:3px 3px 6px rgba(0,0,0,.8);font-weight:400;text-decoration:4px underline}.victory-message{font-size:1.2rem;margin-bottom:1rem;text-align:center;color:#90ee90;font-weight:700}.win-instructions{margin-top:2rem;text-align:center;color:#aaa}.crystal .sprite.crystal-flash-glow{animation:crystal-flash-phase 1.5s ease-in-out infinite alternate!important}.crystal-dark-glow{filter:drop-shadow(0 0 10px rgba(128,0,92,.8)) drop-shadow(0 0 20px rgba(128,0,92,.6)) drop-shadow(0 0 30px rgba(128,0,92,.4)) drop-shadow(0 0 40px rgba(128,0,92,.2))}@keyframes crystal-flash-phase{0%{filter:drop-shadow(0 0 20px rgba(128,0,92,.3)) drop-shadow(0 0 40px rgba(128,0,92,.2))}to{filter:drop-shadow(0 0 30px rgba(128,0,92,.8)) drop-shadow(0 0 60px rgba(128,0,92,.6)) drop-shadow(0 0 90px rgba(128,0,92,.4))}}.title{font-family:DungeonFont,Pixelade,Courier New,monospace;font-size:3rem;margin-bottom:1rem;text-align:center;color:#4ecdc4;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.title-banner{display:block;margin:0rem auto;max-width:100%;max-height:140px;image-rendering:pixelated;filter:drop-shadow(2px 2px 4px rgba(0,0,0,.5))}.subtext{font-size:1rem;margin-bottom:1rem;text-align:center;color:#aaa}.subtitle{font-size:1.5rem;margin-bottom:3rem;text-align:center;opacity:.8}.start-button,.restart-button{padding:.5rem;font-size:1.3rem;background:teal;width:200px;border:none;border-radius:12px;color:#fff;cursor:pointer;transition:all .3s ease;font-family:inherit;outline:none}.start-button:hover,.restart-button:hover{background:#009797;box-shadow:0 6px 12px #0006}.infinite-mode-button{padding:.5rem;width:200px;font-size:1.2rem;background:#0f79a6;border:none;border-radius:12px;color:#fff;cursor:pointer;transition:all .3s ease;font-family:inherit;margin-top:10px}.infinite-mode-button:hover{background:#1a9bbb}.instructions{font-size:1.3rem;max-width:600px;text-align:center;line-height:1.6;opacity:.9}.game-ui{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10}.health-bar{position:absolute;bottom:160px;left:45px;width:200px;height:20px;background:#400426;border:4px solid #84235C;overflow:hidden;z-index:21;display:flex;align-items:center}.health-icon{position:absolute;bottom:148px;left:20px;width:40px;height:40px;z-index:22;image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges}.health-fill{height:100%;background:#e070b2;transition:width .3s ease}.health-text{position:absolute;bottom:160px;left:255px;font-size:1.2rem;font-weight:700;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.8);z-index:21}.energy-bar{position:absolute;bottom:126px;left:45px;width:200px;height:20px;background:#321300;border:4px solid #6F3F00;overflow:hidden;z-index:21;display:flex;align-items:center}.energy-icon{position:absolute;bottom:118px;left:23px;width:36px;height:36px;z-index:22;image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges}.energy-fill{height:100%;background:linear-gradient(90deg,#c8913e,#e6a847);transition:width .3s ease}.energy-text{position:absolute;bottom:126px;left:255px;font-size:1.2rem;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.8);z-index:21}.ultimate-ready{color:#fff;animation:flash .4s infinite;font-weight:700}@keyframes flash{0%,50%{opacity:1}51%,to{opacity:.3}}.word-display{position:absolute;bottom:80px;left:0;right:0;width:100%;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,.8);z-index:20;background:#000000e6;padding:20px 0}.current-word{font-size:2rem;font-weight:700;margin-bottom:5px}.next-word-preview{font-size:1.8rem;font-weight:700;color:#ffffff80;opacity:.7;font-family:Helvetica,Courier New,monospace}.word-char{display:inline-block;margin:0 2px;min-width:25px;text-align:center;font-family:Helvetica,Courier New,monospace}.char-typed{color:#888}.char-current{color:#fff;text-decoration:underline}.char-remaining{color:#ccc}.char-preview{color:#ffffff80;opacity:.7}.skill-bar{position:absolute;bottom:0;left:0;right:0;width:100%;background:#000;padding:15px 0;font-size:14px;color:#fff;text-align:center;z-index:20}.skill-slots{display:flex;gap:15px;justify-content:center;margin-bottom:10px}.skill-slot{position:relative;width:60px;height:60px;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;filter:brightness(.5)}.skill-slot.selected{filter:brightness(1)}.skill-icon-container{width:40px;height:40px;display:flex;align-items:center;justify-content:center;margin-top:5px}.skill-icon{width:40px;height:40px;object-fit:contain}.skill-number{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.5rem;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,1)}.skill-instructions{font-size:12px;color:#888;font-style:italic}.game-object{position:absolute;pointer-events:none}.sprite{image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges}.crystal{z-index:1;filter:drop-shadow(0 0 10px rgba(74,144,226,.8))}.crystal.dark-crystal{filter:none}.crystal .sprite:not(.crystal-dark-glow){animation:crystal-glow 2s ease-in-out infinite alternate}@keyframes crystal-glow{0%{filter:brightness(1) drop-shadow(0 0 5px rgba(74,144,226,.6))}to{filter:brightness(1.2) drop-shadow(0 0 15px rgba(74,144,226,.9))}}.enemy{position:absolute;z-index:10}.player{position:absolute;z-index:5}.ultimate-flash{position:absolute;left:0;top:0;width:100%;height:100%;background:#f7eee1;opacity:.7;z-index:55;pointer-events:none}.ultimate-vfx{position:absolute;z-index:60;pointer-events:none}.hitbox-debug{position:absolute;pointer-events:none;border:2px solid rgba(255,255,255,.35);display:none}.score{position:absolute;top:20px;right:20px;font-size:1.5rem;text-shadow:2px 2px 4px rgba(0,0,0,.8);z-index:20}.wave-display{position:absolute;top:20px;left:20px;background:#000c;padding:15px;border-radius:8px;border:2px solid #4ecdc4;color:#fff;font-family:Pixelade,monospace;z-index:20;min-width:300px}.wave-display h3{margin:0 0 10px;color:#4ecdc4;font-size:1.2rem}.wave-progress{margin-bottom:10px}.progress-bar{width:100%;height:20px;background:#fff3;border-radius:10px;overflow:hidden;margin-bottom:5px}.progress-fill{height:100%;background:linear-gradient(90deg,#4ecdc4,#44a08d);transition:width .3s ease;border-radius:10px}.progress-text{font-size:.9rem;color:#ccc}.next-wave{background:#4ecdc41a;padding:10px;border-radius:5px;margin-bottom:10px;border-left:3px solid #4ecdc4}.next-wave p{margin:5px 0;font-size:.9rem}.wave-description{color:#aaa;font-style:italic}.wave-stats{font-size:.8rem;color:#888;border-top:1px solid rgba(255,255,255,.2);padding-top:8px}.wave-announcement{position:absolute;top:50px;left:0;width:100vw;height:80vh;display:flex;justify-content:center;align-items:flex-start;z-index:1000;pointer-events:none}.wave-announcement-content{background:#00000080;padding:20px 30px;border-radius:15px;border:3px solid #FFF;text-align:center;box-shadow:0 0 30px #4ecdc480;animation:waveAnnouncementPulse 2s ease-in-out}.wave-title{font-family:Pixelade,monospace;font-size:2.5rem;color:#fff;margin:0 0 20px;text-shadow:0 0 10px rgba(78,205,196,.8)}.wave-hint{font-family:Pixelade,monospace;font-size:1.5rem;color:#fff;margin:0}@keyframes waveAnnouncementPulse{0%{transform:scale(.8);opacity:0}20%{transform:scale(1.1);opacity:1}80%{transform:scale(1);opacity:1}to{transform:scale(.9);opacity:0}}.skip-tutorial-button{position:absolute;top:20px;left:50%;transform:translate(-50%);padding:.5rem 1rem;font-size:1rem;background:#0f79a6;border:none;border-radius:6px;color:#fff;cursor:pointer;transition:all .3s ease;font-family:inherit;z-index:25}.skip-tutorial-button:hover{background:#1a9bbb}.game-settings{margin:10px 0}.setting-item{margin:15px 0}.checkbox-label{display:flex;align-items:center;cursor:pointer;font-family:Pixelade,monospace;font-size:1.1rem;color:#ccc;-webkit-user-select:none;user-select:none}.checkbox-label input[type=checkbox]{display:none}.checkmark{width:20px;height:20px;background:#fff3;border:2px solid #4ecdc4;border-radius:4px;margin-right:12px;position:relative;transition:all .3s ease}.checkbox-label input[type=checkbox]:checked+.checkmark{background:#4ecdc4}.checkbox-label input[type=checkbox]:checked+.checkmark:after{content:"";position:absolute;left:6px;top:2px;width:6px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.difficulty-selection{padding:5px;border-radius:10px;text-align:center}.difficulty-controls{display:flex;align-items:center;justify-content:center;gap:20px}.difficulty-arrow{background:teal;border:none;border-radius:50%;width:40px;height:40px;color:#fff;font-size:1.2rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.difficulty-arrow:hover{background:#009797}.difficulty-display{background:#0000004d;border:2px solid rgba(78,205,196,.5);border-radius:8px;padding:15px 20px;min-width:200px}.difficulty-name{font-family:Pixelade,monospace;font-size:1.2rem;color:#4ecdc4;font-weight:700;margin-bottom:5px}.difficulty-wpm{font-family:Pixelade,monospace;font-size:1.5rem;color:#fff;margin-bottom:5px}.difficulty-description{font-family:Pixelade,monospace;font-size:.9rem;color:#ccc;opacity:.8}.checkbox-label:hover .checkmark{background:#4ecdc44d;transform:scale(1.1)}.game-over-title{font-size:4rem;font-family:DungeonFont;margin-top:1rem;color:#f44;text-shadow:3px 3px 6px rgba(0,0,0,.8);font-weight:400;text-decoration:4px underline}.game-over-death-sprite{width:96px;height:96px;margin-top:1rem;background-image:url(/cavern-of-keystone/assets/sprites/B_witch_death.png);background-position:0px -1344px;background-size:96px 1440px;image-rendering:pixelated;min-height:96px}.win-witch-sprite{width:96px;height:96px;margin-top:1rem;background-image:url(/cavern-of-keystone/assets/sprites/B_witch_idle.png);background-position:0px 0px;background-size:96px 576px;image-rendering:pixelated;min-height:96px}.difficulty-marker{font-size:1.5rem;color:#4ecdc4;text-shadow:2px 2px 4px rgba(0,0,0,.8);font-weight:700;letter-spacing:2px}.final-score{font-size:2rem;margin-bottom:20px;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.8);font-weight:700}.enemy-health-container{position:absolute;top:-25px;z-index:10}.enemy-health-bar{width:60px;height:6px;background:#000000b3;border:1px solid #333;overflow:hidden;margin-bottom:2px}.enemy-health-fill{height:100%;background:linear-gradient(90deg,#f44,#f66);transition:width .3s ease}.enemy-health-text{font-size:9px;color:#fff;text-align:center;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.hint-display{position:fixed;top:20%;left:50%;transform:translate(-50%,-50%);z-index:1;pointer-events:none;font-family:Pixelade,monospace;font-size:1.8rem;color:#fff;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,.8);background-color:#00000080;max-width:600px;line-height:1.4}.wpm-metrics{margin:20px 0;padding:20px;background:#0006;text-align:center;border-radius:10px;border:1px solid rgba(255,255,255,.2);box-shadow:0 4px 8px #0000004d}.words-typed,.average-wpm{font-family:Pixelade,monospace;font-size:1.2rem;color:#fff;margin:8px 0;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.average-wpm{font-size:1.4rem;font-weight:700;color:#1a9bbb}.wind-hitbox{position:absolute;width:128px;height:128px;transform:translate(-50%) translateY(-50%);pointer-events:none;z-index:9;border-radius:50%;opacity:0}.impact-hitbox{position:absolute;transform:translate(-50%) translateY(-50%);pointer-events:none;z-index:9;border:2px solid orange;border-radius:50%;opacity:0}@keyframes damageFloat{0%{transform:translate(-50%,-50%) translateY(0);opacity:1}to{transform:translate(-50%,-50%) translateY(-60px);opacity:0}}.damage-effect{animation:damageFloat 1.5s ease-out forwards;z-index:1000}
